language: dart
dist: xenial

# Custom configuration
sudo: required
addons:
  apt:
    packages:
      - libstdc++6

jobs:
  include:
    - stage: analyze
      name: "Static analysis"
      script: flutter analyze --no-current-package lib  
    - stage: widgets
      name: "Widget tests"                  
      script: flutter test

stages:
  - analyze
  - widgett

# Only building master means that we don't run two builds for each pull request.
branches:
  only:
    - master
    - develop

cache:
  directories:
    - "$HOME/.pub-cache"
